#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass elsarticle
\begin_preamble
\usepackage{color}
\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\definecolor{orangered}{RGB}{239,134,64}
\definecolor{orchid}{RGB}{218,112,214}
\definecolor{violet}{RGB}{238,130,238}
\tnotetext[t1]{This document is a collaborative effort.}
%\tnotetext[t2]{The second title footnote which is a longer
%longer than the first one and with an intention to fill
%in up more than one line while formatting.}
%\author[rvt]{E.F.~Luque\corref{cor1}\fnref{fn1}}
%\ead{edluquem@usp.br.com}
\author[rvt]{E.F.~Luque\corref{cor1}}
\ead{edluquem@usp.br.com}
\author[rvt]{D.~Moreira\corref{cor1}}
\ead{edluquem@usp.br.com}
\author[focal]{D.~Rubin}
\ead{.....com}


%\ead[url]{http://www.elsevier.com}
%\cortext[cor1]{Corresponding author}
%\cortext[cor2]{Principal corresponding author}
%\fntext[fn1]{This is the specimen author footnote.}
%\fntext[fn2]{Another author footnote, but a little more
%longer.}
%\fntext[fn3]{Yet another author footnote. Indeed, you can have
%any number of author footnotes.}

\address[rvt]{Department of Computer Science\\ University of São Paulo\\ São Carlos, Brazil}
\address[focal]{Department of Radiology\\ Stanford University\\ Stanford, USA\\}
%\address[els]{Department of Computer Science\\ University of São Paulo\\ São Carlos, Brazil}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding utf8
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plainnat
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\listings_params "language=XML,morestring={[s]{&quot;}{&quot;}},morecomment={[s]{?}{?}},morecomment={[s]{!--}{--}},commentstyle={\color{darkgreen}},moredelim={[s][\color{black}]{>}{<}},moredelim={[s][\color{maroon}]{\ }{=}},stringstyle={\color{violet}},keywordstyle={\color{orangered}},tagstyle={\color{blue}},otherkeywords={attribute=, xmlns=, value=, root=,code=,codeSystem=,codeSystemName=,codeSystemVersion=}"
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{frontmatter}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
title{Automatic Classification of Cancer Tumors using Image Annotations
 and Ontologies}
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout


\backslash
begin{abstract}
\end_layout

\begin_layout Plain Layout

Information about cancer stage in a patient is crucial when clinicians assess
 treatment progress.
 Determining cancer stage is a process that takes into account the description,
 location, characteristics and possible metastasis of cancerous tumors in
 a patient.
 It should follow classification standards, such as TNM Classification of
 Malignant Tumors.
 However, in clinical practice, the implementation of this process can be
 tedious and error-prone and create uncertainty.
 In order to alleviate these problems, we intend to assist radiologists
 by providing a second opinion in the evaluation of cancer stage in patients.
 For doing this, Semantic Web technologies, such as ontologies and reasoning,
 were used to automatically classify cancer stages.
 This classification used semantic annotations made by radiologists, using
 the ePAD tool, and stored using standard AIM format.
 A TNM based classifier prototype was created.
 It transforms AIM annotations in AIM-O ontology individuals and, using
 axioms and rules(written in OWL-SWRL languages) representing the TNM standard,
 it automatically calculates patient's liver cancer stage.
 The AIM4-O ontology was developed, as part of this work, to represent AIM4
 annotations in OWL.
 This TNM classifier was evaluated using real patient's radiology reports
 from The NCI's Genomic Data Commons(GDC), in terms of precision and recall,
 with 85.7
\backslash
% and 81.0
\backslash
% respective results(when compared to the real cancer stages from the reports).
 The whole process was validated with radiologists from the Radiology Dept.
 of the Stanford University.
\end_layout

\begin_layout Plain Layout


\backslash
end{abstract}
\end_layout

\begin_layout Plain Layout


\backslash
begin{keyword}
\end_layout

\begin_layout Plain Layout

Reasoning,
\end_layout

\begin_layout Plain Layout

Image Annotations, Cancer Staging, ePAD, OWl, SWRL, TNM
\end_layout

\begin_layout Plain Layout


\backslash
end{keyword}
\end_layout

\begin_layout Plain Layout


\backslash
end{frontmatter}
\end_layout

\end_inset


\end_layout

\begin_layout Section
Introduction
\end_layout

\begin_layout Standard
In radiology and oncology, evaluating the response to cancer treatments
 depends critically on the results of image analysis by experts.
 However, the information obtained from this analysis is not easily interpreted
 by machines.
 Medical images in clinical tasks are important as they allow specialists
 to diagnose, plan and track patients 
\begin_inset CommandInset citation
LatexCommand citep
key "Levy2009"

\end_inset

.
 Thus, a considerable number of computer applications have been developed.
 Most of them are focused on extracting visual features with the help of
 image processing algorithms.
 
\end_layout

\begin_layout Standard
Although these algorithms can help physicians to process image findings
 for cancer treatment, they have problems when an abstract query is made
 in the context of cancer patient classification.
 For example, when an oncologist wants to know if a tumor is at an advanced
 stage and it expanded to some region near the origin of cancer but not
 for other parts of the body
\begin_inset CommandInset citation
LatexCommand cite
key "Wennerberg2011155"

\end_inset

.
 There are difficulties during image interpretation, because the semantic
 information implicit in the image reports, is not accessible to these algorithm
s.
 
\end_layout

\begin_layout Standard
Although medical images and reports provide a significant amount of information
 to physicians, this information it's not easily integrated into advanced
 medical applications such as clinical decision support systems to treat
 patients with cancer.
 Specifically, when physicians will assess individual progress of a cancer
 patient to decide new treatment measures 
\begin_inset CommandInset citation
LatexCommand cite
key "Zillner2013"

\end_inset

.
 An appropriate treatment options is supported by the information about
 cancer staging.
 The cancer staging is a classification process based on characteristics
 such as size and location of tumor on the body.
 This classification process can be automated in order to optimize the work
 of the physicians, that may become cumbersome and error prone as the number
 of patients is considerably large
\begin_inset CommandInset citation
LatexCommand cite
key "Zillner2010"

\end_inset

.
\end_layout

\begin_layout Standard
Otherwise, there are few tools that allow radiologists to easily capture
 semantic structured information as part of their routine research workflow
 
\begin_inset CommandInset citation
LatexCommand cite
key "Rubin2014"

\end_inset

.
 The project Annotation and Image Markup (AIM) developed by the cancer Biomedica
l Informatics Grid (caBIG) 
\begin_inset CommandInset citation
LatexCommand cite
key "Rubin2008"

\end_inset

, provides an XML schema to describe the anatomical structure and visual
 observations images using the RadLex ontology 
\begin_inset CommandInset citation
LatexCommand cite
key "Kundu2009"

\end_inset

.
 It allows a representation, storage, and consistent transfer of semantic
 meanings of images.
 Tools such as the ePAD 
\begin_inset CommandInset citation
LatexCommand cite
key "Rubin2014"

\end_inset

, using AIM format can help to reduce the effort to collect structured semantic
 information about images.
 However, it is necessary to make inferences about this information (cancer
 lesions) using biological and physiological relationships between image
 metadata.
\end_layout

\begin_layout Standard
Image metadata in AIM format, does not allow represent information about
 image findings in a format that is directly suitable for reasoning.
 AIM provides only a format for data transfer and storage.
 We can see then that there is a lack of semantic methods to make inferences
 about cancerous lesions from semantic annotations of images, based on standard
 format such as AIM.
 Thus, in this work we developed reasoning approach based on staging systems
 such as the 
\series bold
\emph on
Classification of Malignant Tumors
\series default
\emph default
 (
\series bold
TNM
\series default
; stages definitions and examples can be found in 
\begin_inset CommandInset citation
LatexCommand cite
key "Faria2014"

\end_inset

 and Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:A)TNMexamplefigure"

\end_inset

 respectively).
 In order to automatically staging cancer patients and finally incorporate
 these methods to the requirements met by an image annotation systems as
 ePAD.
\end_layout

\begin_layout Section

\lang american
Objective
\end_layout

\begin_layout Standard
The objective of this work is to automatically determine the cancer stage
 of lesions present in medical images, using semantic web and reasoning
 technologies to process semantic annotations made by experts to provide
 clinicians a second opinion on the classification of their patients.
 These semantic annotations are made using tools that use XML schema to
 describe and save image findings as the AIM format(ePad).
 Automatic cancer staging can increase the efficiency of radiologists and
 oncologists and improve the quality and uniformity of image interpretation
 by experts.
 It's important to mention our work focuses on staging liver cancer due
 to data availability.
\end_layout

\begin_layout Standard
This paper is organized as follows.
 In Section 3 presents related approaches.
 Section 4 describes our methodology composed of three main components:
 the ontological representation of AIM 4.0 model, the conditions to implement
 the TNM classifier(General Ontology) and the formal representation of cancer
 staging.
 Section 5 gathers experiments enabling to assess our TNM classifier relevance.
 Conclusions will be found in Section 6.
\end_layout

\begin_layout Section
Related work
\end_layout

\begin_layout Standard
In clinical research currently, there are similar cancer staging systems.
 The Cancer staging is a classification process to determine how much cancer
 there are on the whole body and where it is located.
 Former researchers for tumor staging based on a formal representation of
 classification system, such as TNM have been used semantic annotations
 from a controlled vocabulary for discovering implicit knowledge.
 However, they are not open source and their classification methods cannot
 be analyzed or reused openly 
\begin_inset CommandInset citation
LatexCommand cite
key "Rubin2014"

\end_inset

.
\end_layout

\begin_layout Standard
Among the proposed approaches 
\begin_inset CommandInset citation
LatexCommand citet
key "Dameron2006Table"

\end_inset

 and 
\begin_inset CommandInset citation
LatexCommand citet
key "marquet2007"

\end_inset

 perform reasoning based on classification systems such as TNM and WHO using
 ontology class-based reasoning approach.
 However, this approach often leads to an underlying drawback: the creation
 of unnecessary classes, increasing the complexity of the ontology.
 In addition, the Open World Assumption (OWA).
 The OWA was solved by these studies avoiding the reasoning based on instances.
 However, it is possible to perform reasoning based on instances supported
 by data structures.
 It will be described in detail at following sections.
\end_layout

\begin_layout Standard
In 
\begin_inset CommandInset citation
LatexCommand cite
key "Tutac2008"

\end_inset

,
\begin_inset CommandInset citation
LatexCommand cite
key "Tutac2010"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand citet
key "Massicano2015AnOF"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand cite
key "franca2015"

\end_inset

 and 
\begin_inset CommandInset citation
LatexCommand cite
key "zillner:towards"

\end_inset

, the authors create ontologies in OWL-DL for TNM.
 However, the idea of having an ontology for each type of body organ is
 undesirable as in the case of 
\begin_inset CommandInset citation
LatexCommand cite
key "zillner:towards"

\end_inset

 and 
\begin_inset CommandInset citation
LatexCommand cite
key "Tutac2008"

\end_inset

.
 We believe in the approach of having an ontology representing directly
 image findings (such as the ontology model of AIM) and besides that, the
 classification tasks as cancer staging should be guided only by rules and
 axioms.
\end_layout

\begin_layout Standard
Although in 
\begin_inset CommandInset citation
LatexCommand cite
key "Meriem2012"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand cite
key "Racoceanu20152"

\end_inset

 and 
\begin_inset CommandInset citation
LatexCommand citet
key "Tutac2010"

\end_inset

 the authors used semantic image annotations and perform a classification
 based on Nottingham grading System(NGS) supported by OWL and SWRL.
 The fact of creating a new ontology depending on the condition you want
 to analyze it is a limiting factor.
 That fact, however, does not occur in our approach, which provides an ontology
 based on a standard such AIM.
\end_layout

\begin_layout Standard
In 
\begin_inset CommandInset citation
LatexCommand cite
key "Moller2013"

\end_inset

,
\begin_inset CommandInset citation
LatexCommand cite
key "Zillner2012"

\end_inset

 can be found the closest approach to our proposal.
 However, ignoring the fact that the data used are not available for all
 the necessary analysis, the lymphoma staging system that has been implemented
 in this study is relatively simpler than TNM staging system.
 For example, we can see in 
\begin_inset CommandInset citation
LatexCommand cite
key "Zillner2012"

\end_inset

 does not consider the size of a lesion as an important factor.
 However, this fact is very important in staging systems as TNM of liver,
 lung, etc.
 Moreover, we can see that the process of aligning all ontologies generated
 in this study are not described explicitly.
\end_layout

\begin_layout Standard
Recent works using ePAD 
\begin_inset CommandInset citation
LatexCommand cite
key "Gimenez2011,Kurtz20141082"

\end_inset

 propose an image retrieval framework based on semantic annotations.
 This framework incorporates the semantic correlations between terms used
 to describe these images.
 This automated approach provides real-time support for radiologists, showing
 them images associated with similar diagnoses.
\end_layout

\begin_layout Standard
In the literature, we found similar systems where semantic annotations are
 stored in different formats that do not allow their integration for reasoning
 processes.
 Often these formats are also proprietary.
 Some of these studies also allow creating image annotations in AIM format
 (in XML), but these are not suitable for reasoning.
 AIM format provides only a transfer and storage format.
\end_layout

\begin_layout Standard
Our work is focused on helping cancer specialists in automatic patient classific
ation (staging) using semantic annotations in images.
 The classification shall be made ​using semantic reasoning on annotations
 encoded in AIM, these annotations, made by radiologists, describe lesions
 in images.
\end_layout

\begin_layout Section
Method description
\end_layout

\begin_layout Standard
In this section, we describe our methodology which comprises three main
 tasks:
\end_layout

\begin_layout Itemize
Ontological representation of AIM 4.0 model.
 
\end_layout

\begin_layout Itemize
\begin_inset Note Note
status open

\begin_layout Plain Layout
Generate conditions to implement the TNM classifier(General Ontology)
\end_layout

\end_inset

Creating conditions to implement reasoning based on TNM rules using OWL
 instances.
\end_layout

\begin_layout Itemize
Formal Representation of Cancer Staging.
\end_layout

\begin_layout Subsection
Ontological representation of AIM model.
 
\end_layout

\begin_layout Standard
In order to perform inference and classify image annotations based on Annotation
 and Image Markup (AIM) standard, we needed a language equipped with formal
 semantic.
 Using this semantic, inferences about an ontology together with a set of
 individual instances of classes can be made.
 In this context the Web Ontology Language (OWL) that describes a language
 for building ontological representation semantically equivalent of an informati
on model was used.
 In our work, we transformed the AIM data model into an equivalent ontological
 representation, using OWL2.
 This transformation was performed by creating classes and properties in
 OWL that are user-understandable and suitable for inference.
\end_layout

\begin_layout Standard
We developed an OWL model based on the ontology provides by 
\begin_inset CommandInset citation
LatexCommand cite
key "Bulu"

\end_inset

 Hakan Bulu, this ontology represents an older version of AIM.
 Therefore, in order to represent the AIM 4.0 model, which is the version
 used to store image annotations generated by tools such as ePAD
\begin_inset CommandInset citation
LatexCommand cite
key "Rubin2011"

\end_inset

, we expanded the Hakan Bulu ontology based on AIM 4.0 model schema, which
 is available online
\begin_inset Foot
status open

\begin_layout Plain Layout
https://wiki.nci.nih.gov/display/AIM/Extending+the+AIM+Model
\end_layout

\end_inset

.
 Finally, our ontology was called 
\series bold
AIM4-O
\series default
.
\end_layout

\begin_layout Subsubsection
AIM4-O ontology
\end_layout

\begin_layout Description
Classes
\end_layout

\begin_layout Standard
In general, the AIM 4.0 model is an extension of the AIM Foundation model.
 There are nine new classes that capture lesion results and measurements
 derived during image-based clinical trial.
 In this work, we only considered the following six classes as sufficient
 to achieve our goal:
\end_layout

\begin_layout Enumerate

\series bold
AIM:Entity:
\series default
 It is an abstract class that represents the existence of a thing, concept,
 observation, calculation, measurement and graphic design on AIM.
\end_layout

\begin_layout Enumerate

\series bold
AIM:AnnotationCollection: 
\series default
It is an abstract concept of a container that collects elements such as
 
\family typewriter
\series bold
\shape italic
AnnotationOfAnnotation 
\series default
\emph on
or
\series bold
\emph default
 
\begin_inset Newline newline
\end_inset

ImageAnnotation
\family default
\series default
\shape default
 entities.
\end_layout

\begin_layout Enumerate

\series bold
AIM:imageAnnotationCollection: 
\series default
Stores instances of 
\family typewriter
\series bold
\shape italic
AnnotationImages
\family default
\series default
\shape default
 class.
 It associates with the 
\family typewriter
\series bold
\shape italic
Person
\family default
\series default
\shape default
 class that contains patient demographic information.
\end_layout

\begin_layout Enumerate

\series bold
AIM:ImagingPhysicalEntity
\begin_inset Foot
status open

\begin_layout Plain Layout
The only class in the model that has been changed the entire name to 
\emph on
:AnatomicEntity
\series bold
\emph default
 
\series default
in AIM 3.0 version
\end_layout

\end_inset

:
\series default
 This class stores an anatomical location as a coded term ( RID2662, femur,
 RadLex ) based on controlled vocabularies such as RadLex®, SNOMED CT®,
 Unified Medical Language System (UMLS).
\end_layout

\begin_layout Enumerate

\series bold
AIM:ImagingPhysicalCharacteristic: 
\series default
This class describes 
\begin_inset Newline newline
\end_inset

the 
\family typewriter
\series bold
\shape italic
ImagingPhysicalEntity
\family default
\series default
\shape default
 as coded term.

\series bold
 
\end_layout

\begin_layout Enumerate

\series bold
AIM:MarkupEntity: 
\series default
This class captures textual information and graphical representation as
 DICOM-SR and SCOORD3D, for tridimensional and bidimensional spatial coordinates.
\end_layout

\begin_layout Description
Relationships 
\end_layout

\begin_layout Standard
Relationships describe semantically how different concepts relate to each
 other.
 For example, an 
\family typewriter
\series bold
\shape italic
ImageAnnotation
\family default
\series default
\shape default
 having an 
\family typewriter
\series bold
\shape italic
Observation
\series default
 
\family default
\shape default
entity that describes a lesion.
 These relationships in our ontology enabled the semantic reasoning, which
 is a prerequisite for semantic classification and searching.
 
\end_layout

\begin_layout Standard
One of the basic concepts in our AIM4-O ontology is the 
\family typewriter
\series bold
\shape italic
ImageAnnotation
\family default
\series default
\shape default
 entity, this concept allow us to describe data properties of an image annotatio
n in OWL, such as comments, name, date and time of its creation; e.g., the
 following statement:
\family typewriter
\series bold
\shape italic
 imageAnnotation1 dateTime {2014-09-26T17:07:58ˆˆdatetime}
\family default
\series default
\shape default
, states that an annotation was referred to as 
\family typewriter
\series bold
\shape italic
imageAnnotation1
\family default
\series default
\shape default
 and was created at 
\family typewriter
\series bold
\shape italic
2014-09-26T17:07:58
\family default
\series default
\shape default
.
 There are more 
\family typewriter
\series bold
\shape italic
ImageAnnotation
\family default
\series default
\shape default
 entity relationships to other concepts, such as physical location and observati
ons on lesions found, they were also specified using relationships in OWL.
 These relations can be seen in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:AIM4example"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/AIM4.pdf
	lyxscale 30
	scale 13

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:AIM4example"

\end_inset


\lang brazilian
The diagram describes abstract classes as purple oval involving your instance
 (
\family typewriter
\shape italic
imageAnnotationCollection
\family default
\shape default
, 
\family typewriter
\shape italic
ImageAnnotation
\family default
\shape default
, 
\family typewriter
\shape italic
geometricShape
\family default
\shape default
) and relationships as red arrows.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="1">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top">
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
XML 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset listings
lstparams "language=XML,basicstyle={\scriptsize\rmfamily},tabsize=1"
inline false
status open

\begin_layout Plain Layout

<imageAnnotations> 
\end_layout

\begin_layout Plain Layout

 <ImageAnnotation> 
\end_layout

\begin_layout Plain Layout

  <UNIQUEIDENTIFIER root="f3fftpf6wsinx4o17il"/> 
\end_layout

\begin_layout Plain Layout

  <dateTime value="2014-10-05T22:33:47"/> 
\end_layout

\begin_layout Plain Layout

  <name value="Liver1"/> 
\end_layout

\begin_layout Plain Layout

  <comment value="CT / RECON 2: LIVER 2 PHASE (AP) / 37"/> 
\end_layout

\begin_layout Plain Layout

       .
 
\end_layout

\begin_layout Plain Layout

       .
 
\end_layout

\begin_layout Plain Layout

       .
\end_layout

\begin_layout Plain Layout

   <imagingPhysicalEntityCollection> 
\end_layout

\begin_layout Plain Layout

   <ImagingPhysicalEntity> 
\end_layout

\begin_layout Plain Layout

     <uniqueIdentifier root="1a5gzinzftm1oxc45sho8go"/>
\end_layout

\begin_layout Plain Layout

       .
\end_layout

\begin_layout Plain Layout

       .
\end_layout

\begin_layout Plain Layout

       .
\end_layout

\begin_layout Plain Layout

   </ImagingPhysicalEntity> 
\end_layout

\begin_layout Plain Layout

   </imagingPhysicalEntityCollection>
\end_layout

\begin_layout Plain Layout

 </ImageAnnotation>
\end_layout

\begin_layout Plain Layout

</imageAnnotations>
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Manchester syntax
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset listings
lstparams "language=XML,basicstyle={\scriptsize\ttfamily},tabsize=4"
inline false
status open

\begin_layout Plain Layout

@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
 
\end_layout

\begin_layout Plain Layout

@prefix aim:  <http://www.w3.org/ns/aim4#> .
\end_layout

\begin_layout Plain Layout

Individual: 8ixmtfhbiqujozezrep1r90t1n0po8wxyfy5svzs
\end_layout

\begin_layout Plain Layout

  Types:						 ImageAnnotationCollection          
\end_layout

\begin_layout Plain Layout

   Facts:
\end_layout

\begin_layout Plain Layout

    aim:hasImageAnnotations     :9gs43xqj1kyl13lmega0zhoenzvgeakkprft8fw8,
\end_layout

\begin_layout Plain Layout

.
\end_layout

\begin_layout Plain Layout

Individual: f3fftpf6wsinx4o17il
\end_layout

\begin_layout Plain Layout

  Types:						 ImageAnnotation
\end_layout

\begin_layout Plain Layout

   Facts:        
\end_layout

\begin_layout Plain Layout

    aim:hasImageReference      :sj1...,
\end_layout

\begin_layout Plain Layout

    aim:hasMarkupEntity        :jma...,
\end_layout

\begin_layout Plain Layout

    aim:hasCalculationEntity   :a4l...,
\end_layout

\begin_layout Plain Layout

    aim:hasImagingObservation  :hoj...,
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

    AIM:HASPHYSICALENTITY      :1A5GZINZFTM1OXC45SHO8GO,
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

    aim:dateTime               "2014-10-05T22:33:47"^^xsd:dateTime,
\end_layout

\begin_layout Plain Layout

    aim:uniqueIdentifier       "f3fftpf6wsinx4o17il"^^xsd:string,      
      
\end_layout

\begin_layout Plain Layout

    aim:comment                ``CT / RECON 2: LIVER 2 
\end_layout

\begin_layout Plain Layout

                                PHASE (AP) / 37''^^xsd:string,      
\end_layout

\begin_layout Plain Layout

    aim:name                   "Liver1"^^xsd:string
\end_layout

\begin_layout Plain Layout

.
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:sample-of-Image"

\end_inset

Sample of Image Annotations in XML and OWL format
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
A small example is given in Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:sample-of-Image"

\end_inset

 including OWL representation of an AIM 4.0 instance and its usual relationships.
 This example shows semantically equivalent concepts between XML(serialization
 format) and OWL(data model) that were used in this work.
 Hence, for example, an AIM 
\family typewriter
\series bold
\emph on
ImageAnnotation
\family default
\series default
\emph default
 instance with an identifier value 
\family typewriter
\series bold
\emph on

\begin_inset Quotes eld
\end_inset

uniqueIdentifier:f3fftpf6wsinx4o17il
\begin_inset Quotes erd
\end_inset

,
\family default
\series default
\emph default
 can be represented and suitable for reasoning purposes.
 Similarly, we can see, in the table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:sample-of-Image"

\end_inset

, the concept of 
\family typewriter
\series bold
\emph on
PhysicalEntity
\family default
\series default
\emph default
 with an identifier value 
\family typewriter
\series bold
\emph on

\begin_inset Quotes eld
\end_inset

uniqueIdentifier
\series default
:
\series bold
1a5gzinzftm1oxc45sho8go
\series default

\begin_inset Quotes erd
\end_inset

,
\family default
\emph default
 related to the 
\family typewriter
\series bold
\emph on
ImageAnnotation
\family default
\series default
\emph default
 by 
\family typewriter
\series bold
\emph on
hasPhysicalEntity
\family default
\series default
\emph default
 Object Property.
 Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Sample-of-AIM"

\end_inset

 shows more information about the syntax of a 
\family typewriter
\series bold
\emph on
PhysicalEntity
\family default
\series default
\emph default
 instance in AIM 4.0 XML and the OWL manchester syntax of the same 
\family typewriter
\series bold
\emph on
PhysicalEntity
\family default
\series default
\emph default
 instance.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="1">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top">
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
XML
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset listings
lstparams "language=XML,basicstyle={\scriptsize\ttfamily},tabsize=5"
inline false
status open

\begin_layout Plain Layout

<imagingPhysicalEntityCollection> 
\end_layout

\begin_layout Plain Layout

 <ImagingPhysicalEntity> 
\end_layout

\begin_layout Plain Layout

   <uniqueIdentifier root="1a5gzinzftm1oxc45sho8go"/> 
\end_layout

\begin_layout Plain Layout

   <typeCode code="RID58" codeSystem="liver" 
\end_layout

\begin_layout Plain Layout

             codeSystemName="RadLex" codeSystemVersion=""/> 
\end_layout

\begin_layout Plain Layout

   <typeCode code="RID67" codeSystem="Couinaud hepatic segment 7" 
\end_layout

\begin_layout Plain Layout

             codeSystemName="RadLex.3.10" codeSystemVersion=""/> 
\end_layout

\begin_layout Plain Layout

   <annotatorConfidence value="0.0"/> 
\end_layout

\begin_layout Plain Layout

   <label value="Location"/> 
\end_layout

\begin_layout Plain Layout

 </ImagingPhysicalEntity> 
\end_layout

\begin_layout Plain Layout

</imagingPhysicalEntityCollection> 
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Manchester syntax
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset listings
lstparams "language=XML,basicstyle={\scriptsize\ttfamily},tabsize=5"
inline false
status open

\begin_layout Plain Layout

Individual:  1a5gzinzftm1oxc45sho8go
\end_layout

\begin_layout Plain Layout

 Types:			        ImagingPhysicalEntity          
\end_layout

\begin_layout Plain Layout

   Facts:        
\end_layout

\begin_layout Plain Layout

   aim:annotatorConfidence      0.0f,      
\end_layout

\begin_layout Plain Layout

   aim:label                   "Location"^^xsd:string,      
\end_layout

\begin_layout Plain Layout

   aim:typeCode                ``{codeSystemName=RadLex,
\end_layout

\begin_layout Plain Layout

                                  codeSystem    =liver,code=RID58,
\end_layout

\begin_layout Plain Layout

                                  codeSystemVersion=}''^^xsd:string, 
\end_layout

\begin_layout Plain Layout

   aim:typeCode                ``{codeSystemName=RadLex.3.10,
\end_layout

\begin_layout Plain Layout

                                  codeSystem    =Couinaudhepaticsegment7,
\end_layout

\begin_layout Plain Layout

                                  code          =RID67}''^^xsd:string, 
     
\end_layout

\begin_layout Plain Layout

   aim:uniqueIdentifier        "1a5gzinzftm1oxc45sho8go"^^xsd:string
\end_layout

\begin_layout Plain Layout

.
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Sample-of-AIM"

\end_inset

Sample of AIM PhysicalEntity in XML and OWL format
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Creating conditions to implement reasoning based on TNM rules using OWL
 instances
\end_layout

\begin_layout Standard
The second step is to define a mechanism to transform existing AIM-XML documents
 to their equivalent encoded using OWL ( AIM4-O individuals).
 To achieve this we developed groovy scripts in order to automatically map
 XML documents to AIM Java classes based on AIM UML model (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:xmltoowl"

\end_inset

).
 Later, we used the OWL API that is a Java API for creating, manipulating
 and serializing OWL ontologies to create OWL Instances from those AIM Java
 classes.
 Therefore, successfully populate semantic web knowledge bases, such as
 AIM4-O.
 In this way, we create suitable conditions for classification-based and
 rule-based inference.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/comditionsforTNM.pdf
	lyxscale 70
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:xmltoowl"

\end_inset

Mechanism to transform AIM-XML documents to encoded AIM4-O individuals using
 OWL.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
In order to stage automatically cancer, our approach must have the support
 of capable ontology to specify the semantics of image observations of a
 particular domain, in this case, this ontology should be able to represent
 the topology of a human body organ (the organ in which cancer starts growing
 and has its own TNM system).
 In this work, this organ was the liver.
 Furthermore, it is considered necessary to include an OWL representation
 of Radlex vocabulary in order to facilitate handling AIM4-O individuals,
 because these individuals have terminology Radlex in its structure.
 Finally, it was added to the ontology the set of rules based on the TNM
 liver system.
 The result was the 
\series bold
General Ontology
\series default
 constructed from the above-mentioned requirements.
\end_layout

\begin_layout Subsubsection
General Ontology 
\end_layout

\begin_layout Standard
The ontology is divided in 4 files, as seen on Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:generalOntology"

\end_inset

:
\end_layout

\begin_layout Itemize
The AIM4-O ontology with individuals (obtained using the above processes).
\end_layout

\begin_layout Itemize
Onlira.owl: The Liver Ontology (based on the Onlira ontology 
\begin_inset CommandInset citation
LatexCommand cite
key "Kokciyan2014"

\end_inset

).
\end_layout

\begin_layout Itemize
ModuleRadlex.owl: Radlex lexicon module
\begin_inset Foot
status open

\begin_layout Plain Layout
http://bioportal.bioontology.org/ontologies/RADLEX/classes
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Itemize
General concepts of TNM (axioms and rules SWRL).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/ontologiageral2.pdf
	lyxscale 30
	scale 13

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:generalOntology"

\end_inset

The General Ontology and imports needed(TNM rules, axioms, moduleRadlex.owl
 and Onlira.owl) in order to classify liver cancer.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The following sections give a description of the ontologies used as part
 of the 
\series bold
General Ontology
\series default
.
\end_layout

\begin_layout Subsubsection
ONLIRA (Ontology of the Liver for Radiology)
\end_layout

\begin_layout Standard
The ONLIRA
\begin_inset Foot
status open

\begin_layout Plain Layout
https://bioportal.bioontology.org/ontologies/ONLIRA
\end_layout

\end_inset

 ontology was developed as part of the CaReRa project.
 It aims to model imaging observations of the liver domain with an emphasis
 on properties and relations between the liver, hepatic veins, and liver
 lesions.
 The work presented in this paper used the ontology to enable a feasible
 ontological representation of liver and its topological features.
\end_layout

\begin_layout Subsubsection
Radlex terminology 
\end_layout

\begin_layout Standard
The AIM model provides an XML schema that describes anatomical structures,
 visual observations and other information relevant to images using RadLex
 terminology.
 We extracted a module from the Radlex lexicon to represent all this information.
 Then, this radlex module was used by our ontology(General ontology) to
 permit a formal representation (in OWL) of TNM criteria.
 The TNM criteria are based on knowledge about the way cancer develops and
 its dissemination, for this reason, it is important that our ontology(General
 ontology) collects not only the anatomical entities mentioned in TNM but
 also the various direct and indirect parts of these entities.
 For example, to the 
\family typewriter
N
\family default
 and 
\family typewriter
M
\family default
 criteria we added 2 super classes, such as 
\family typewriter
\series bold
\emph on
adjacentOrganGroup
\family default
\series default
\emph default
 that describes the set of organs adjacent to a main organ (e.g., the liver)
 and 
\family typewriter
\series bold
\emph on
noadjacentOrganGroup
\family default
\series default
\emph default
 that describes organs based on the most common sites of tumor dissemination
\begin_inset CommandInset citation
LatexCommand cite
key "Faria2014"

\end_inset

.
 For the liver, we included lungs and bones as no adjacent organs, as seen
 in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:radlexclass"

\end_inset

.
\end_layout

\begin_layout Subsubsection
Classes to Represent TNM System Concepts
\end_layout

\begin_layout Standard
In order to get OWL representation of each TNM stages, we have needed an
 interpretation of its definition.
 Although it is not mentioned explicitly, the TNM criteria are exclusive,
 so the corresponding OWL classes were made disjoint.
 For example, the 
\family typewriter
\series bold
\emph on
T2
\family default
\series default
\emph default
 stage is represented by two constraints that come together to define a
 single tumor (any size) that has grown into blood vessels (
\family typewriter
\series bold
\emph on
T2_a
\family default
\series default
\emph default
 class) concept and a single tumor no larger than 
\begin_inset Quotes eld
\end_inset

x
\begin_inset Quotes erd
\end_inset

 cm (
\family typewriter
\series bold
\emph on
T2_b
\family default
\series default
\emph default
 class) respectively.
\end_layout

\begin_layout Subsection
Formal Representation of TNM Cancer Staging 
\end_layout

\begin_layout Standard
In the previous sections, several operations were necessary to enhance the
 General ontology or TNM classifier.
 At first, we created classes and properties in order to fill the semantic
 gap between the tumor features and the AIM4-0 classes definitions.
 Second, we provided formal definitions for the TNM stages, liver's topological
 features and RadLex terminology, in order to represent them in OWL.
 Finally, we defined formal mechanisms of reasoning ( using only OWL and
 SWRL expressivity) such as subclasses, intersections, equivalences, disjunction
s between classes and a set of rules in order to classify cancer patients
 from image annotations.
 This last step will be described below.
\end_layout

\begin_layout Description
In order to discover the limits of the OWL, rules SWRL, and axioms, we attempted
 to formally define and implement the conditions which TNM system demands.
 The TNM cancer staging is divided into two main steps.
 The first step consists in giving a score starting from the description
 of the tumor (T), the spreading into lymphatic nodes (N) and possible metastasi
s (M); the second step consists in determining the stage according to the
 previous scores (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:A)TNMexamplefigure"

\end_inset

).
 To make the aforementioned tasks possible, we decided that the following
 conditions reflected desirable staging process:
\end_layout

\begin_layout Itemize
Condition 1 : Staging should consider the existence of solitary or multiple
 tumors on the same site.
\end_layout

\begin_layout Itemize
Condition 2 : Staging should consider if tumors are either bigger or minor
 than a certain size in cm.
\end_layout

\begin_layout Itemize
Condition 3 : Staging should consider lesions in adjacent organs.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/exemploIIIA.pdf
	lyxscale 75
	scale 37

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:A)TNMexamplefigure"

\end_inset

A) Axial, contrasted CT image shows multiple HCC tumors (green lines), identifie
d and annotated using the ePAD tool, There was no regional lymph node involvemen
t or metastasis.
 B) The diagram shows multiple HCCs with at least one was > 5 cm.
 This patient was classified as having TNM stageIIIA(T3a,N0,M0).
 Adapted from 
\begin_inset CommandInset citation
LatexCommand cite
key "Faria2014"

\end_inset

.
 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Asserting Conditions using OWL 
\end_layout

\begin_layout Description

\series bold
Condition 1 : 
\series default
Staging should consider the existence of solitary or multiple tumors on
 the same site.
\end_layout

\begin_layout Standard
The AIM4-O ontology does not give us the explicit mechanics such as classes,
 subclasses, or properties, that allows us to infer whether a patient has
 a single or multiple tumors.
 In the case of multiple tumors, we constructed the following rule 
\family typewriter
\series bold
\emph on
MoreThanOneTumor
\family default
\series default
\emph default
 (in SWRL notation):
\end_layout

\begin_layout Standard

\lang brazilian
\begin_inset Formula 
\begin{gather*}
\hline ImageStudy(?X)\land isImageStudyOf(?x,?y)\land isImageStudyOf(?x,?z)\land\\
DifferentFrom(?y,?z)\rightarrow MoreThanOneTumor(?x)\\
\hline 
\end{gather*}

\end_inset


\end_layout

\begin_layout Standard
This rule classifies an 
\family typewriter
\series bold
\emph on
ImageStudy
\family default
\series default
\emph default
 as a member of the 
\family typewriter
\series bold
\emph on
MorethanOneTumor
\family default
\series default
\emph default
 class if an image study "X" is referenced by more than one image annotation.
 In order to classify something as 
\family typewriter
\series bold
\emph on
MorethanOneTumor
\family default
\series default
\emph default
, we created a new concept called 
\family typewriter
\series bold
\emph on
isImageStudyOf
\family default
\series default
\emph default
.
 This concept is the inverse of the 
\family typewriter
\series bold
\emph on
hasImageStudy
\family default
\series default
\emph default
 object property.
 The 
\family typewriter
\series bold
\emph on
hasImageStudy
\family default
\series default
\emph default
 property relates an 
\family typewriter
\series bold
\emph on
ImageAnnotation
\family default
\series default
\emph default
 entity to an 
\family typewriter
\series bold
\emph on
ImageStudy 
\family default
\series default
\emph default
entity.
\end_layout

\begin_layout Standard
In the scenario of classifying patients with an exactly solitary tumor.
 We could not find axioms or rules that satisfied this requirement, due
 to that OWL works under the Open World Assumption.
 Open world means that, just because we do not say something it does not
 mean that it is not true.
 For example, I can say that the patient annotation describes a cancer lesion
 using the 
\family typewriter
\series bold
\emph on
ImagingObservation
\family default
\series default
\emph default
 entity of the AIM4-O ontology model, but unless I explicitly say that there
 are no other lesions, it is assumed that there may be other lesion that
 I just have not mentioned or described.
\end_layout

\begin_layout Standard
We have tried to solve the problem of the open world assumption by considering
 some alternatives such as modeling again our AIM4-O ontology (e.g., setting
 the 
\family typewriter
\series bold
\emph on
hasImagingObservation
\family default
\series default
\emph default
 object property as a primitive class).
 But, this did not seem intuitive to us.
 Instead, we decided to state the number of lesions explicitly by creating
 one new concept named 
\family typewriter
\series bold
\emph on
singleLesion
\family default
\series default
\emph default
, as a data property of an 
\family typewriter
\series bold
\emph on
ImageStudy
\family default
\series default
\emph default
 entity.
 Here, this domain concept denotes if an 
\family typewriter
\series bold
\emph on
ImageStudy
\family default
\series default
\emph default
 describes an exactly solitary tumor.
 We assumed that an 
\family typewriter
\series bold
\emph on
ImageStudy
\family default
\series default
\emph default
 entity describes only a tumor (
\family typewriter
\series bold
\emph on
“singleLesion {true}”
\family default
\series default
\emph default
) if only if it is referenced by only one I
\family typewriter
\series bold
\emph on
mageAnnotation
\family default
\series default
\emph default
 entity.
 However, it was not possible to formulate with the only OWL.
 Instead, this information was provided by a data structure that was generated
 as part of the process of parsing the XML image annotations to create AIM4-O
 individuals.
 Finally, to classify annotations that describe a single lesion, we constructed
 the rule 
\family typewriter
\series bold
\emph on
SingleTumor
\family default
\series default
\emph default
 (in SWRL notation):
\end_layout

\begin_layout Standard

\lang brazilian
\begin_inset Formula 
\begin{gather*}
\hline ImageStudy(?X)\land singleLesion(?X,?val)\land\\
equal(?val,true)\rightarrow singleTumor(?X)\\
\hline 
\end{gather*}

\end_inset


\end_layout

\begin_layout Description
Condition 2: Staging should consider if tumors are either bigger or minor
 than a certain size in cm.
\end_layout

\begin_layout Standard
This condition was easily implemented by getting the value from the data
 property 
\family typewriter
\series bold
\emph on
values
\family default
\series default
\emph default
 on the 
\family typewriter
\series bold
\emph on
CalculationResult
\family default
\series default
\emph default
 entity.
 The 
\family typewriter
\series bold
\emph on
CalculationResult
\family default
\series default
\emph default
 is related to the 
\family typewriter
\series bold
\emph on
ImageAnnotation
\family default
\series default
\emph default
 entity through the 
\family typewriter
\series bold
\emph on
hasCalculationEntity
\family default
\series default
\emph default
 object property.
 In order to satisfy this condition, we assert the following rules taking
 5 centimeters as the longest dimension of the target liver lesion(in SWRL
 notation): 
\end_layout

\begin_layout Standard
\noindent
\align center

\series bold
\lang brazilian
LessThan5cmTumor:
\series default
 
\end_layout

\begin_layout Standard
\noindent
\align center

\lang brazilian
\begin_inset Formula 
\begin{gather*}
\hline ImageAnnotation(?x)\land hasCalculationEntity(?x,?y)\land\\
hasCalculationResult(?y,?z)\land\\
values(?z,?val)\land lessThan(?val,5)\rightarrow lessThan5cmTumor(?x)\\
\hline 
\end{gather*}

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center

\series bold
\lang brazilian
MoreThan5cmTumor:
\series default
 
\end_layout

\begin_layout Standard
\noindent
\align center

\lang brazilian
\begin_inset Formula 
\begin{gather*}
\hline ImageAnnotation(?x)\land hasCalculationEntity(?x,?y)\land\\
hasCalculationResult(?y,?z)\land\\
values(?z,?val)\land greaterThan(?val,5)\rightarrow MoreThan5cmTumor(?x)\\
\hline 
\end{gather*}

\end_inset


\end_layout

\begin_layout Description
Condition 3: Staging should consider lesions in adjacent organs.
\end_layout

\begin_layout Standard
To satisfy the more complicated criterion of classification, we have to
 consider the fact that a cancerous tumor can spread in the body.
 For that, we needed to create one new concept based on the 
\family typewriter
\series bold
\emph on
Lesion
\family default
\series default
\emph default
 class from the Onlira ontology
\begin_inset CommandInset citation
LatexCommand cite
key "Kokciyan2014"

\end_inset

.
 While 
\family typewriter
\series bold
\emph on
Lesion
\family default
\series default
\emph default
 class handles important characteristics of a lesion, such as composition,
 density, size, shape, etc, unfortunately, this is not enough for TNM classifica
tion and reasoning.
 For this reason, we added 3 properties to it and created the subclass 
\family typewriter
\series bold
\emph on
OutsideLesion
\family default
\series default
\emph default
, these properties are:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/hasLocationOP.pdf
	lyxscale 50
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:properties"

\end_inset

 General Ontology adds 2 properties defined as necessary for the TNM representat
ion
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family typewriter
\series bold
\emph on
hasLocation
\family default
\series default
\emph default
(object property): This property indicates the lesions location based on
 Radlex taxonomy.
 This property relates Onlira 
\family typewriter
\series bold
\emph on
Lesion
\family default
\series default
\emph default
 class members to the Radlex 
\family typewriter
\series bold
\emph on
AnatomicalEntity
\family default
\series default
\emph default
 class members (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:properties"

\end_inset

).
 
\end_layout

\begin_layout Itemize

\family typewriter
\series bold
\emph on
isRegionalLymphNodeAffected
\family default
\series default
\emph default
(data property): This property denotes whether a lesion is found in some
 lymph node.
 It was useful to enable classification criteria such as N0 and N1 (see
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:properties"

\end_inset

).
\end_layout

\begin_layout Itemize

\family typewriter
\series bold
\emph on
isAdjacentOrgan
\family default
\series default
\emph default
 (data property): This property denotes whether a lesion with a 
\family typewriter
\series bold
\emph on
hasLocation
\family default
\series default
\emph default
 value 
\family typewriter
\emph on
"X"
\family default
\emph default
 it's close to the organ 
\family typewriter
\emph on
"Y"
\family default
\emph default
.
 In accordance with the TNM liver classification criterion, which is the
 case of study in this work, we considered as adjacent organs to the liver
\begin_inset CommandInset citation
LatexCommand cite
key "Faria2014"

\end_inset

; the pancreas, duodenum, liver, colon etc.
 (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:radlexclass"

\end_inset

).
 Furthermore, we grouped these concepts as organs in radlex representation,
 creating two new classes such as, 
\family typewriter
\series bold
\emph on
AdjacentOrganGroup
\family default
\series default
\emph default
 and 
\family typewriter
\series bold
\emph on
NoAdjacentOrganGroup
\family default
\series default
\emph default
:
\end_layout

\begin_layout Standard
\noindent
\align center

\lang brazilian
\begin_inset Formula 
\begin{gather*}
\hline NoAdjacentOrganGroup\subseteq RadlexEntity.Organ\\
AdjacentOrganGroup\subseteq RadlexEntity.Organ\\
\hline 
\end{gather*}

\end_inset


\end_layout

\begin_layout Standard

\family typewriter
\series bold
\emph on
\lang brazilian
AdjacentOrganGroup
\family default
\series default
\emph default
 and 
\family typewriter
\series bold
\emph on
NoAdjacentOrganGroup 
\family default
\series default
\emph default
classes indicate whether a body organ is considered adjacent or not regarding
 the organ where the primary tumor was located.
 The primary organ defines the type of staging system to use, in our case
 of study, this organ was the liver.
 Finally, we constructed the following rule (in SWRL notation) to indicates
 whether an 
\family typewriter
\series bold
\emph on
OutsideLesion 
\family default
\series default
\emph default
is located in an adjacent organ:
\end_layout

\begin_layout Standard
\noindent
\align center

\lang brazilian
\begin_inset Formula 
\begin{gather*}
\hline Lesion(?x)\land adjacentOrganGroup(?y)\land\\
hasLocation(?x,?y)\rightarrow isAdjacentOrgan(?x,true)\\
\hline 
\end{gather*}

\end_inset


\end_layout

\begin_layout Standard

\lang brazilian
At this point, once we covered the above requirements adequately using OWL
 and SWRL, we constructed the axioms and rules in order to be able to automatica
lly classify cancer lesions based on the TNM system.
 We noticed that the way we modeled things mattered.
 For example, it was easier to define 
\family typewriter
\emph on
N1a
\family default
\emph default
, 
\family typewriter
\emph on
N0
\family default
\emph default
 and reuse their definitions for 
\family typewriter
\emph on
M0
\family default
\emph default
, rather than to start with the definition of 
\family typewriter
\emph on
M0
\family default
\emph default
 handling complex closures.
 With the use of the AIM4-O ontology, anatomical concepts can easily be
 related to each other as demonstrated previously.
 Moreover, formal requirements such as the integrity and the cardinality
 can be asserted for reasoning purposes.
\end_layout

\begin_layout Standard

\lang brazilian
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/drawingRadlextaxonomyLiver.pdf
	lyxscale 50
	scale 18

\end_inset


\end_layout

\begin_layout Plain Layout

\lang brazilian
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:radlexclass"

\end_inset

Getting the subclass-hierarchy from Radlex.
 
\family typewriter
\series bold
\emph on
\lang brazilian
AdjacentOrganGroup(Pancreas, Spleen, Stomach, Gallblader, Colon)
\family default
\series default
\emph default
 and 
\family typewriter
\series bold
\emph on
NoAdjacentOrganGroup(Lymph nodes, Lung) 
\family default
\series default
\emph default
classes are distributed regarding the organ where the primary tumor was
 located.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Experimental Study and Results
\end_layout

\begin_layout Standard
In this section, at first, we evaluated the expressivity of the AIM4-O ontology,
 followed by the calculation of the classification rate of our TNM classifier
 for semantic image findings based on TNM criteria, which is the objective
 of this work.
 Finally, the quantitative evaluation of TNM classifier was made using precision
 and recall.
\end_layout

\begin_layout Subsection
Datasets
\end_layout

\begin_layout Standard
Our first dataset is a set of real clinical reports of hepatocellular carcinoma
 (HCC) patients from The NCI's Genomic Data Commons (GDC).
 In this work, all experiments were supported by the GDC data.
 An important requirement to enable a feasible clinical evaluation, was
 to have an image dataset to validate the results of GDC clinical reports.
 To cover this requirement we used the TCIA database
\begin_inset CommandInset citation
LatexCommand cite
key "Clark2013"

\end_inset

 that hosts a large archive of medical images about cancer, it is accessible
 for public download and also it is related to the GDC by a patient 
\family typewriter
\series bold
\emph on
subject ID
\family default
\series default
\emph default
.
 The imaging modality selected was computed tomography (CT), then, these
 images were loaded into the annotation tool ePAD.
\end_layout

\begin_layout Standard
While the staging could be applied to other types cancer, this work focuses
 on staging liver cancer (HCC) consequently to the availability of clinical
 data and images.
 For a given patient, the input to the system consists of AIM files(image
 annotations ) and the output, consist of the Cancer Staging for this patient.
\end_layout

\begin_layout Subsection
Quantitative assessment of AIM4-O ontology
\end_layout

\begin_layout Standard
According to Blomqvist et.al.,
\begin_inset CommandInset citation
LatexCommand cite
key "Blomqvist2012"

\end_inset

, "
\emph on
the ontological evaluation is the process of assessing an ontology with
 respect to certain criteria, using certain measures
\emph default
".
 In this work, we undertook the evaluation of the AIM4-O ontology from the
 functional point of view.
 To achieve this, we carried out a task-focused assessment against their
 ontological requirements such as competency questions (CQs) and inference
 requirements
\begin_inset CommandInset citation
LatexCommand cite
key "Kokciyan2014"

\end_inset

.
\end_layout

\begin_layout Standard
In order to evaluate the AIM4-O ontology, we studied and evaluated how it
 could help in searching clinical reports that describe image findings (reports
 about cancer ), for this purpose, were compared two different approaches:
\end_layout

\begin_layout Itemize
Ontology-based (semantic search): If the clinical reports are described
 as AIM4-O individuals, these reports can be searched using description
 logic query languages(DL query).
\end_layout

\begin_layout Itemize
Natural Language process-based (keyword search): Clinical reports and image
 findings are usually written in natural language, therefore, a method for
 searching can be keyword search.
\end_layout

\begin_layout Standard
In order to highlight the differences between these two approaches, we describe
 four queries expressed both in DL (DL query) and keywords(see Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:queries"

\end_inset

):
\end_layout

\begin_layout Enumerate
Q1- Find all reports related to an image observation (tumor observation).
\end_layout

\begin_layout Enumerate
Q2- Find all reports that describe multiple tumors.
\end_layout

\begin_layout Enumerate
Q3- Find all reports that contain a tumor observation that has a size greater
 than 8 cm.
\end_layout

\begin_layout Enumerate
Q4- Find all reports that contain a tumor observation with descriptors (e.g.,
 invasion, mass, vascular).
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="1.5cm">
<column alignment="center" valignment="top" width="7cm">
<column alignment="center" valignment="top" width="2.5cm">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Query ID
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DL query
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Keyword query
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hasAnnotations some (hasImageAnnotations some (hasImagingObservation some
 (ImagingObservationEntity and label value "Lesion type "))) 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tumor 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hasAnnotations min 2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Multiple tumor 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hasAnnotations some (hasImageAnnotations some (hasCalculationEntity some
 (hasCalculationResult some (some values float [> 8.0f])))) 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tumor size greater than 8 cm 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hasImagingObservationCharacteristic 1 min
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Vascular tumor invasion mass 
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:queries"

\end_inset

Description logic and keyword representation for four queries
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
We have considered the following points in order to evaluate both approaches:
\end_layout

\begin_layout Itemize
The evaluation was based on GDC reports: We took 15 random radiology reports
 of different patients written in natural language and converted them into
 AIM4-O instances.
\end_layout

\begin_layout Itemize
A report was retrieved if it satisfied the DL query or it collects all keywords
 in the search query.
\end_layout

\begin_layout Itemize
Finally, we compared the precision and recall against a gold standard.
 The gold standard was determined by a radiologist manually.
\end_layout

\begin_layout Standard
The four queries with corresponding precision and recall results are showing
 in Table
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:prexrecallontology"

\end_inset

 
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center

\lang brazilian
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="5">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="1.2cm">
<column alignment="left" valignment="top" width="1.8cm">
<column alignment="left" valignment="top" width="2.3cm">
<column alignment="left" valignment="top" width="1.8cm">
<column alignment="left" valignment="top" width="2.3cm">
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" rightline="true" usebox="none" width="1.8cm">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Query ID
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Semantic search- DL
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" usebox="none" width="3.5cm">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Keyword search
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Precision
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Recall
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Presicion
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Recall
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Q1
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0.8
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Q2
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0.4
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0.4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Q3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0.9
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0.9
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Q4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0.67
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0.7
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:prexrecallontology"

\end_inset

Recall and Precision values for the four queries 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Description
Observations 
\end_layout

\begin_layout Standard
By analyzing the four queries we can see that the semantic search has the
 greatest number of relevant documents retrieved:
\end_layout

\begin_layout Description
Q1: With the semantic approach, 15 reports were retrieved with a precision
 and recall of 1 (15/15).
 With the keyword search, 12 reports were retrieved with a precision of
 1 (12/12) and recall of 0.8 (12/15).
 
\end_layout

\begin_layout Description
Q2: With the semantic approach, 5 reports were retrieved with a precision
 and recall of 1 (5/5).
 With the keyword search, 5 reports were retrieved with a precision and
 recall of 0.4 (2/5).
 
\end_layout

\begin_layout Description
Q3: With the semantic search, 10 reports were retrieved with a precision
 of 0.9 (9/10) and recall of 0.9 (9/10).
 With the keyword search approach no reports were retrieved, because there
 were not any reports that contained all the query words (i.e., lesion size
 greater than 8 cm).
 
\end_layout

\begin_layout Description
Q4: With the semantic search, 15 reports were retrieved with a precision
 of 0.67 (10/15) and recall of 1 (10/10).
 With the keyword search, 7 reports were retrieved with a precision of 1
 (7/7) and recall of 0.7 (7/10).
 
\end_layout

\begin_layout Standard
Semantic search approach performance was better, with recall values close
 to 1 and always better than the keyword search.
 Also, in all but one case, precision values were better for the semantic
 search.
 The keyword search had 0 precision and recall for the query 3, which is
 a very bad result.
\begin_inset Note Note
status collapsed

\begin_layout Subsection
Classification using the Recist Criteria
\end_layout

\begin_layout Plain Layout
The RECIST (Response Evaluation Criteria In Solid Tumors) guideline allows
 a standardized assessment of tumor burden and tumor response during therapy.
 Here, a sum of the diameters for all target lesions is calculated and reported
 as the baseline for follow-up and indicates therapy response/failure
\begin_inset CommandInset citation
LatexCommand cite
key "Recist"

\end_inset

.
 
\end_layout

\begin_layout Plain Layout
A considerable part of guidelines on Recist criteria can be automated using
 the AIM4-O ontology model and image annotations.
 However, this is not done by defining logical axioms and SWRL rules in
 OWL, as we do with other types classification such as TNM.
 That happens because Recist is based on value comparisons and OWL uses
 an open world assumption.
 Instead, we use SPARQL to retrieve relevant data to classify findings by
 comparing their measurement values to size specifications provided by Recist.
 
\end_layout

\end_inset


\end_layout

\begin_layout Description
\begin_inset Note Note
status collapsed

\begin_layout Description
Recist specifications:
\end_layout

\begin_layout Plain Layout
Baseline documentation of “Target” and “Non-Target” lesions
\end_layout

\begin_layout Itemize
All measurable lesions, up to a maximum of 2 lesions per organ and 5 lesions
 in total, representative of all involved organs should be identified as
 target lesions, recorded and measured at baseline.
 
\end_layout

\begin_layout Itemize
A sum of the Longest Diameter (LD), for all target lesions, will be calculated
 and reported as the baseline sum LD.
 The baseline sum LD will be used as reference by which to characterize
 the objective tumor response.
 
\end_layout

\begin_layout Itemize
All other lesions (or sites of disease) should be identified as non-target
 lesions and should also be recorded at baseline.
 Measurements of these lesions are not required, but the presence or absence
 of each should be noted throughout follow-up.
\end_layout

\begin_layout Description
Response Criteria evaluation of target lesions
\end_layout

\begin_layout Itemize
Complete Response (CR): Disappearance of all target lesions 
\end_layout

\begin_layout Itemize
Partial Response (PR): At least a 30% decrease in the LD sum of the target
 lesions, taking as reference the baseline LD sum.
 
\end_layout

\begin_layout Itemize
Stable Disease (SD): Neither sufficient shrinkage to qualify for PR nor
 sufficient increase to qualify for PD, taking as reference the smallest
 LD sum since the treatment started.
 
\end_layout

\begin_layout Itemize
Progressive Disease (PD): At least a 20% increase in the LD sum of the target
 lesions, taking as reference the smallest LD sum recorded since the treatment
 started or the appearance of one or more new lesions 
\end_layout

\end_inset


\begin_inset Note Note
status collapsed

\begin_layout Subsubsection
Asserting Recist guidelines using OWL and SPARQL
\end_layout

\begin_layout Plain Layout
The guidelines of Recist in detail in 
\begin_inset CommandInset citation
LatexCommand cite
key "Recist"

\end_inset

, represent rules and most of them were implemented using SPARQL (rules
 related to non-target lesions were not implemented):
\end_layout

\begin_layout Plain Layout

\series bold
Selection of target lesions
\series default
:The selection of final target lesions, from the set of potential lesions,
 is performed by the radiologist.
 However, this selection can also be implement using the following rule
 (in SWRL notation):
\end_layout

\begin_layout Plain Layout
\begin_inset space \space{}
\end_inset


\end_layout

\begin_layout Plain Layout
\align center

\series bold
Srwl rule that classifies potential target lesions based on tumor size (<15mm):
\end_layout

\begin_layout Plain Layout
\noindent
\align center

\lang brazilian
\begin_inset Formula 
\begin{gather*}
\hline ImageAnnotation(?x)\land hasCalculationEntity(?x,?y)\\
\land hasCalculationResult(?y,?z)\\
values(?z,?val)\land greaterThan(?val,1.5)\rightarrow isAdjacentOrgan(?x,true)\\
\hline 
\end{gather*}

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\lang brazilian
Verification of target lesions:
\series default
 It is verified that there are at most five target lesions selected and
 that each organ appears at most twice as the lesion location.
 This is done by the following SPARQL ASK queries: 
\end_layout

\begin_layout Plain Layout

\lang brazilian
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sparql query that verifies that there are at most five target lesions
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
\begin_inset listings
lstparams "language=XML,basicstyle={\tiny\rmfamily},tabsize=5"
inline false
status open

\begin_layout Plain Layout

PREFIX owl: <http://www.w3.org/2002/07/owl#>     	
\end_layout

\begin_layout Plain Layout

PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>     	
\end_layout

\begin_layout Plain Layout

PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>     
\end_layout

\begin_layout Plain Layout

PREFIX onto: <http://www.owl-ontologies.com/Ontology1311106921.owl#>     	
\end_layout

\begin_layout Plain Layout

ASK where { Select (count(?lesion) as ?log) where {     		
\end_layout

\begin_layout Plain Layout

		?anotation onto:hasPerson onto:Xindividual.
     		
\end_layout

\begin_layout Plain Layout

		?anotation onto:hasImageAnnotations ?imageanotation.
     		
\end_layout

\begin_layout Plain Layout

		?imageanotation onto:hasImagingObservation ?observation.
     		
\end_layout

\begin_layout Plain Layout

		?observation onto:typeCode ?typeCode.
     		
\end_layout

\begin_layout Plain Layout

		FILTER regex(str(?typeCode),'Lesion Baseline Evaluation')     		
\end_layout

\begin_layout Plain Layout

		?imageanotation onto:hasLesion ?lesion.
     		
\end_layout

\begin_layout Plain Layout

		} 
\end_layout

\begin_layout Plain Layout

	having (?log <= 5 ) 
\end_layout

\begin_layout Plain Layout

}; 
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sparql query that verifies that there are at most five target lesions
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
\begin_inset listings
lstparams "language=XML,basicstyle={\tiny\rmfamily},tabsize=5"
inline false
status open

\begin_layout Plain Layout

PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> 
\end_layout

\begin_layout Plain Layout

PREFIX owl: <http://www.w3.org/2002/07/owl#> 
\end_layout

\begin_layout Plain Layout

PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>       	
\end_layout

\begin_layout Plain Layout

PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>       
\end_layout

\begin_layout Plain Layout

PREFIX onto:<http://www.owl-ontologies.com/Ontology1311106921.owl#> 
\end_layout

\begin_layout Plain Layout

ASK where {  
\end_layout

\begin_layout Plain Layout

	SELECT (count(?location) as ?log) where {         		
\end_layout

\begin_layout Plain Layout

      ?anotation onto:hasPerson onto:Xindividual.
         		
\end_layout

\begin_layout Plain Layout

      ?anotation onto:hasImageAnnotations ?imageanotation.
          		
\end_layout

\begin_layout Plain Layout

      ?imageanotation onto:hasImagingObservation ?observation.
          	
\end_layout

\begin_layout Plain Layout

	  ?observation onto:typeCode ?typeCode.
          	
\end_layout

\begin_layout Plain Layout

	  FILTER regex(str(?typeCode),'Lesion Baseline Evaluation').
         	
\end_layout

\begin_layout Plain Layout

	  ?imageanotation onto:hasLesion ?lesion.
         	
\end_layout

\begin_layout Plain Layout

	  ?lesion onto:hasLocation ?location.
         		
\end_layout

\begin_layout Plain Layout

      ?location rdf:type onto:Xorgan.
         
\end_layout

\begin_layout Plain Layout

	} 
\end_layout

\begin_layout Plain Layout

having (?log <= 2) 
\end_layout

\begin_layout Plain Layout

} 
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\lang brazilian
Calculation of RECIST sum:
\series default
 This operation is easily implemented by getting the values from the value
 property on the CalculationResult entity.
 This entity is related to the ImageAnnotation entity through the hasCalculation
Entity object property (AIM4-O ontology), as shown in Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:AIM4example"

\end_inset

.
 The shortest axis (lymph nodes) and longest axis (other lesions) are summed
 for all target lesions by the follow SPARQL queries: 
\end_layout

\begin_layout Plain Layout

\lang brazilian
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sparql query that sums shorest and longest axis of all target lesion.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset

The “
\series bold
Xdatatime
\series default
” variable can be “Lesion Baseline Evaluation” or “Follow Up”
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
\begin_inset listings
lstparams "language=XML,basicstyle={\tiny\rmfamily},tabsize=5"
inline false
status open

\begin_layout Plain Layout

PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>     
\end_layout

\begin_layout Plain Layout

PREFIX owl: <http://www.w3.org/2002/07/owl#>     	
\end_layout

\begin_layout Plain Layout

PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>     	
\end_layout

\begin_layout Plain Layout

PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>     	
\end_layout

\begin_layout Plain Layout

PREFIX onto:<http://www.owl-ontologies.com/Ontology1311106921.owl#>     	
\end_layout

\begin_layout Plain Layout

SELECT ( SUM(?values) as ?sum) where {     	
\end_layout

\begin_layout Plain Layout

	?anotation onto:hasPerson onto:Xindividual.
     	
\end_layout

\begin_layout Plain Layout

	?anotation onto:hasImageAnnotations ?imageanotation.
      
\end_layout

\begin_layout Plain Layout

	?imageanotation onto:hasImagingObservation ?observation.
      
\end_layout

\begin_layout Plain Layout

	?observation onto:typeCode ?typeCode.
      	
\end_layout

\begin_layout Plain Layout

	FILTER regex(str(?typeCode),'Xdatatime').
     
\end_layout

\begin_layout Plain Layout

	?imageanotation onto:hasCalculationEntity ?calculation.
     	
\end_layout

\begin_layout Plain Layout

	?calculation onto:hasCalculationResult ?calcresult.
     	
\end_layout

\begin_layout Plain Layout

	?calcresult onto:values ?values.
     
\end_layout

\begin_layout Plain Layout

} 
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\lang brazilian
Classification of response:
\series default
 Finally, the classification of complete response(CP), partial response
 (PR) or stable disease (SD) is carried out in figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ShowsRecist"

\end_inset

: 
\end_layout

\begin_layout Plain Layout

\lang brazilian
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/recistResult.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout

\lang brazilian
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:ShowsRecist"

\end_inset

Shows the response classification PD (Progressive Disease: at least a 20%
 increase in the LD sum of target lesions) of a patient with one lesion
 in the liver “liver2” , with studies on dates october 31 and september
 26.
 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\lang brazilian
The reasoning, based on the four guidelines above, provide an automated
 estimate of the tumor burden, according to the RECIST criteria, on imaging
 studies at baseline and follow-up.
 This information will enable oncologists to calculate and classify patients
 response.
 
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Automatic TNM clinical stage
\end_layout

\begin_layout Standard
In this section, we calculated the classification rate of the TNM classifier.
 At first, we created a template named "TNM template" in order to provide
 to the radiologist with a pre-specified set of semantic terms for image
 annotation.
 These image annotations, which are compatible with the ePAD tool, were
 stored in the AIM format.
 An example of an annotated image is presented in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:TNMtemplate"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide true
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/templateTNM.pdf
	lyxscale 50
	scale 27

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:TNMtemplate"

\end_inset

A CT image of the liver annotated with TNM template on the right of the
 image 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
After, the generated image annotations(in AIM-XML format) were classified
 automatically using the TNM criteria.
 This process was duly evaluated and correctly accepted by an experienced
 radiologist, he visually analyzed the accuracy of the generated annotations
 in terms of semantic.
 The process we followed was:
\end_layout

\begin_layout Itemize
The data set used came from the following open databases:
\end_layout

\begin_deeper
\begin_layout Itemize
The NCI's Genomic Data Commons (GDC)
\begin_inset Foot
status open

\begin_layout Plain Layout
https://gdc.cancer.gov/
\end_layout

\end_inset

 .
\end_layout

\begin_layout Itemize
The Cancer Imaging Archive (TCIA)
\begin_inset Foot
status open

\begin_layout Plain Layout
https://public.cancerimagingarchive.net/ncia/login.jsf
\end_layout

\end_inset

 (collects only images, the number of series and studies): As we working
 with TNM classification from the liver, we searched for "LIHC - Liver hepatocel
lular carcinoma" obtaining 52 patients with information available in both
 databases (images and reports).
 However, the information about tumor size was obtained by manual review
 of the medical reports.
 These reports are also available in The NCI's Genomic Data Commons.
\end_layout

\end_deeper
\begin_layout Itemize
After reading the medical reports, the radiologist was provided with an
 excel spreadsheet that provided information about medical findings as lesion
 size, vascular invasion, and others.
\end_layout

\begin_layout Itemize
Based on the excel file and the GDC data, we created the AIM XML annotations,
 then, integrated them into our knowledge base (as AIM4-O ontology individuals).
\end_layout

\begin_layout Itemize
The AIM files were used as input of our TNM classifier.
 The produced output was compared with the TNM values that physicians reported.
\end_layout

\begin_layout Standard
In this paper, the 7th edition
\begin_inset CommandInset citation
LatexCommand cite
key "Faria2014"

\end_inset

 of TNM has been employed.
 The AIM image annotations were generated based on 52 different clinical
 reports.
 Our automatic staging approach was evaluated by using precision-recall
 values.
 The cancer stages generated by our TNM classifier were compared to those
 described by the doctors in the clinical reports (our gold standard).
 One patient, with a subject ID "TCGA-DD-A1EJ", was removed from this analysis.
 The specialist considered that the TNM classification reported by the physician
 in his respective clinical report was incorrect (more information below).
\end_layout

\begin_layout Standard

\lang brazilian
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center

\lang brazilian
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="7">
<features booktabs="true" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
n = 51
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Actual Stages
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
I
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
II
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
IIIA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
IIIB
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
IVA
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
Predicted Stages
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
I
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
24
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
II
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
IIIA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
IIIB
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
IVA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang brazilian
1
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout

\lang brazilian
\begin_inset Caption Standard

\begin_layout Plain Layout

\lang brazilian
\begin_inset CommandInset label
LatexCommand label
name "tab:Results"

\end_inset

Confusion Matrix of cancer stages predicted by the TNM classifier versus
\lang english
 the values that the doctors placed in the reports.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
For the calculation of precision and recall, when automatic staging coincides
 with that given by the physician, it is considered positive.
 See Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Results"

\end_inset

.
\end_layout

\begin_layout Standard
Precision was 85.7% and recall 81.0% (for 51 patients).
 This means that, for precision, at 85.7% of the time the system agreed with
 the staging given by doctors.
 For the recall, this means that, of all the times that a given stage was
 reported by a physician, in 81.0% of cases the system agreed with him.
 It is important to note that even when the system diverged from physicians,
 the maximum difference between them was only one stage.
 We discussed these patient staging scenarios with the help of our expert
 collaborator and project partner from the Radiology Department of Stanford
 University School of Medicine, finding it very good results.
\end_layout

\begin_layout Standard
The results of the evaluation are summarized in the color scale matrix,
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:matrixconfusion"

\end_inset

.
 It represents a matrix of confusion for a multi-stage classification.
 The interpretation of the results is as follows: the darker the pixel on
 the diagonal of the matrix, this class was classified better.
 The pixel in grays located horizontally indicates the class was confused
 by the classifier with the corresponding class on its vertical axis.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/confusionmatrix2.pdf
	lyxscale 70
	scale 38

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:matrixconfusion"

\end_inset

Confusion matrix for TNM multi-stage classification
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
For early stages of cancer, such as I, II, IIIA, the percentage of misclassifica
tions (e.g., false positives and false negatives) was very small.
 They are represented by the highlighted diagonal of the matrix (see Figure
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:matrixconfusion"

\end_inset

).
 For more advanced stages of cancer, such as IIIB or IVA, it was larger
 (Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:histogram"

\end_inset

).
 This may have happened because these stages are described by relatively
 more complex concepts or simply because we have few patients at these stages.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename figures/classhistogram.pdf
	scale 39

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:histogram"

\end_inset

Summary of Histograms for each class-stage, before automatic TNM classification
 of image metadata of 51 reports
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Besides, our classifier revealed the fact that there are clinical reports
 with the staging diagnosis entirely inaccurate.
 An example of this situation was the clinical case with subject ID "TCGA-DD-A1E
J".
 Where the result of the classifier was considered correct by our expert.
 The stage predicted was the Stage I, but, the stage described by the medical
 report was the Stage III
\begin_inset Foot
status open

\begin_layout Plain Layout
https://gdc-portal.nci.nih.gov/cases/52292ffc-0902-4d97-b461-20723987a177
\end_layout

\end_inset

.
 As this was the only case in which the difference between the classifier's
 stage and the physicians differed by more than one level, the specialist
 wanted to analyze the report and stated that the classifier's stage was
 correct.
 He recommended us do not use this patient's data, so this report was excluded
 from testing analysis.
 Examples like these can serve to warrant the importance of improving clinical
 decision support systems(through the use of image metadata in cancer treatment).
\end_layout

\begin_layout Section
Conclusion
\end_layout

\begin_layout Standard
Cancer staging entails an intensive work, this often requires an accurate
 interpretation of the cancer findings in images by medical experts(oncologist
 and radiologist).
 Expert accuracy is achieved through training and experience
\begin_inset CommandInset citation
LatexCommand citep
key "Depeursinge2014"

\end_inset

, but, variations in image interpretation is a human observer limitation.
 In this context, we developed an automatic staging approach (TNM classifier)
 that is a strong medical need.
 This can help the experts to obtain a higher accuracy rate for image interpreta
tion.
 
\end_layout

\begin_layout Standard
To achieve this, initially, the AIM4-O ontology was developed and validated
 using concrete clinical cases, this ontology represents the basis for more
 complex tasks such as cancer staging by semantic image annotations using
 the AIM format.
 Subsequently, were developed the necessary conditions to make it possible
 the cancer staging, these conditions were based on formal representation
 (rules, axioms, and automatic reasoning procedure) of how different AIM
 concepts should interact with other knowledge bases such as Radlex and
 Onlira.
\end_layout

\begin_layout Standard
The final result was a TNM classifier, which was evaluated with real cancer
 cases.
 The experimental process demonstrated the importance of improving clinical
 decision support systems by the use of semantic metadata in cancer assessment
 with 85.1% precision and 71.0% recall.
 Besides, the analysis of real patient reports performed in this work, in
 contrast to the automated staging result revealed us that there are patient
 cases with inconsistencies in their diagnosis.
 But, it is important to note that the automatic staging procedure does
 not give the clinician new information, as it was said above, it can be
 seen as a second opinion for the purposes of quality in clinical diagnosis.
\end_layout

\begin_layout Standard
We also highlighted some limitations of description logics such as the OWA.
 The OWA was addressed by using a simple data structure.
 Although we haven't actually done it yet, we assume that our approach could
 be applied to other kinds of cancer such liver, lungs, etc by modifying
 only the rules and axioms that represent the TNM criteria avoiding create
 an entirely new ontology for each type of cancer.
\end_layout

\begin_layout Standard
Some limitations to this work are that our dataset is small.
 Because both medical images(CT) and clinical reports have to be present
 for the same patient for optimal validation.
\end_layout

\begin_layout Standard
Other systems, such as mint Lesion (MintMedical GmbH, Dossenheim, Germany)
 and syngo.via (Siemens Healthcare, Malvern) are proprietary software, i.e.,
 all data images are stored internally in a proprietary format which cannot
 be accessed by third parties
\begin_inset CommandInset citation
LatexCommand cite
key "Rubin2011"

\end_inset

.
\end_layout

\begin_layout Standard
We believe that our approach can be generalized in order to enable different
 reasoning process based on image findings, using the AIM model.
 Thus, allowing automated workflows where the image annotations that are
 produced by imaging systems (whatever that generates AIM files) are transformed
 into OWL instances.
 These instances will be used for reasoning procedures in different fields.
\end_layout

\begin_layout Standard
\begin_inset CommandInset bibtex
LatexCommand bibtex
bibfiles "references/refsjournal"
options "elsarticle-num-names"

\end_inset


\end_layout

\end_body
\end_document
